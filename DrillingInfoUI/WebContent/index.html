<!doctype html>
<!-- The ng-app DIRECTIVE creates an Angular application by running this module when the document loads -->
<html ng-app="myModule">

	<head>
		<title>DrillingInfo UI</title>
	
		<link 	rel="stylesheet"
				href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
				integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
				crossorigin="anonymous">
		
		<link 	rel="stylesheet"
				href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
				integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r"
				crossorigin="anonymous">
		
		<link 	href="main.css" rel="stylesheet">
		
		<!-- Function for dropdown menu -->
		<script>
			function getJarList() 
			{
				var mylist = document.getElementById("myList");
			}
		</script>	
		
		<script>
		var number = 0;
		
		
		function scanJars() 
		{			
			
			alert('Panel One Hello');
			
			var xhr = new XMLHttpRequest();
			
			xhr.open('GET', "http://138.67.186.220:9898/", true);
			xhr.send();
			
			xhr.addEventListener("readystatechange", processRequest, false);
			
			xhr.onreadystatechange = processRequest;			

			function processRequest(e) {
				if (xhr.readyState == 4 && xhr.status == 200) {
					
						alert("Correct state and status");

						alert(xhr.responseText);

						var jars = JSON.parse(xhr.responseText);

						var select = document.getElementById("oldJars");

						for ( var i = 0; i < jars.length; i++) {
							var jar = jars[i];
							var el = document.createElement("option");
							el.textContent = jar.name;
							el.value = jar.name;
							select.appendChild(el);
							
							number = number + 1;
							alert(number);
													
						}
					}
				
				}
			}
		</script>	
		
		<script>
		function scanJars2() 
		{
			alert('Panel Two Hello');
			
			var xhr = new XMLHttpRequest();
			
			xhr.open('GET', "http://138.67.186.220:9898/", true);
			xhr.send();
			
			xhr.addEventListener("readystatechange", processRequest, false);
			
			xhr.onreadystatechange = processRequest;
			
			function processRequest(e) 
				{
			alert("Correct state and status");
				
				alert(xhr.responseText);
						
    			var jars = JSON.parse(xhr.responseText);
    			
				var select = document.getElementById("oldJars2"); 

					for(var i = 0; i < jars.length; i++) 
					{
				    var jar = jars[i];
				    var el = document.createElement("option");
				    el.textContent = jar.name;
				    el.value = jar.name;
				    select.appendChild(el);
					
					}
				}
			} 
		</script>	
		
		<script>
		function scanJars3() 
		{
			alert('Panel Three Hello');
			
			var xhr = new XMLHttpRequest();
			
			xhr.open('GET', "http://138.67.186.220:9898/", true);
			xhr.send();
			
			xhr.addEventListener("readystatechange", processRequest, false);
			
			xhr.onreadystatechange = processRequest;
			
			function processRequest(e) 
				{
			alert("Correct state and status");
				
				alert(xhr.responseText);
						
    			var jars = JSON.parse(xhr.responseText);
    			
				var select = document.getElementById("oldJars3"); 

					for(var i = 0; i < jars.length; i++) 
					{
				    var jar = jars[i];
				    var el = document.createElement("option");
				    el.textContent = jar.name;
				    el.value = jar.name;
				    select.appendChild(el);
					
					}
				}
			} 
		</script>	
		
		<script>
		function downloadJars()
		{
		alert('Download New Jars?');
			
			var xhr = new XMLHttpRequest();
			
			xhr.open('GET', "http://138.67.186.220:9898/replace", true);
			xhr.send();
			
			xhr.addEventListener("readystatechange", processRequest, false);
			
			xhr.onreadystatechange = processRequest;
						
		}
		
		</script>

	</head>
	
	<!--   the ng-controller DIRECTIVE allows us to attach our controller to this element in our HTML -->
	<!--   We are attaching the CONTROLLER called StoreController to this div so this limits its scope-->
	<body ng-controller="MyController as ic">
	
		<a href="http://info.drillinginfo.com/"> VISIT DRILLINGINFO HOMEPAGE </a>
		<br>

	<div id="Panel1">
		<h1>One</h1>


		<p>The first panel deals with scanning for updates. Is there a
			Transform/plugins folder? \ Great - letâ€™s look at the jars in it and
			see if any newer versions (or perhaps brand new jars) are available.
			\ Either display to the user that they are fully up-to-date or they
			need to download and install newer jars. \ Give them a button of some
			form to do that. This would replace the older version jars in
			Transform/plugins folder.</p>

		<!--  BUTTON FOR SCAN -->
		<button onClick="scanJars();">Scan For Updates</button>

		<!-- DROPDOWN MENU -->
		<select id="oldJars">
			<option disabled selected>List Of Updates</option>
		</select>
		
		<!--  BUTTON FOR DOWNLOAD -->
		<button onClick="downloadJars();">Download New Jars</button>
	</div>
	<div id="Panel2">
	<h1>Two</h1>
	
	<p>The second panel deals with repairs. You can use the get methods exposed in the DI service (localhost:9898/transform/repair) \
	to find out what repairs are available. What you do next is up to you, you could present some form of a UI that allows the \
	user to see the list and run the detect method by calling that REST api (post to /transform/repair/repair name/detect). \
	This will return a true or false. If you get a true back then you should expose an option to run the repair for the user \
	(post to /transform/repair/repair name/repair).	
	</p>
	
	<!--  BUTTON FOR SCAN -->
	<button onClick="scanJars2();">Scan For Updates</button>

		<!-- DROPDOWN MENU -->
		<select id="oldJars2">
			<option disabled selected>List Of Updates</option>
		</select>
	
	</div>
	
	<div id="Panel3">
	<h1>Three</h1>
	
	<p>The third panel would deal with system control. A way to test an echo command or shutdown the services.
	</p>
	
	<!--  BUTTON FOR SCAN -->
	<button onClick="scanJars3();">Scan For Updates</button>

		<!-- DROPDOWN MENU -->
		<select id="oldJars3">
			<option disabled selected>List Of Updates</option>
		</select>
	</div>						
	
			</select>
			<!--  This is where we must declare our Angular.JS NDC-->
			<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.min.js"></script>
			
			<script type="text/javascript" src="app.js"></script>
			
			<script	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
					integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
					crossorigin="anonymous"></script>
		</div>
	</body>
</html>
